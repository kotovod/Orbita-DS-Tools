# โ ะะฑะฝะพะฒะปะตะฝะธะต: ะัััะพะตะฝะฝัะน ัะบัะฟะพัั ัะพะบะตะฝะพะฒ

## ๐ฏ ะงัะพ ะดะพะฑะฐะฒะปะตะฝะพ

ะะพะฑะฐะฒะปะตะฝะฐ **ะบะฝะพะฟะบะฐ ัะบัะฟะพััะฐ ัะพะบะตะฝะพะฒ ะฟััะผะพ ะฒ ะฟะปะฐะณะธะฝะต** - ัะตะฟะตัั ะฝะต ะฝัะถะฝะพ ะบะพะฟะธัะพะฒะฐัั ัะบัะธะฟั ะฒ ะบะพะฝัะพะปั!

---

## โญ ะะพะฒะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั

### ะะฝะพะฟะบะฐ "๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั ะฒ JSON"

**ะะดะต ะฝะฐัะพะดะธััั:**
- ะะตะถะธะผ: Design System Validator
- ะกะตะบัะธั: "ะะปััะตัะฝะฐัะธะฒะฐ: ะะฐะณััะทะธัั JSON ั ัะพะบะตะฝะฐะผะธ"
- ะจะฐะณ 1: ะญะบัะฟะพััะธััะนัะต ัะพะบะตะฝั ะธะท ัะตะบััะตะณะพ Figma ัะฐะนะปะฐ

**ะงัะพ ะดะตะปะฐะตั:**
1. ะะฐะถะธะผะฐะตัะต ะบะฝะพะฟะบั
2. ะะปะฐะณะธะฝ ัะพะฑะธัะฐะตั ะฒัะต Variables ะธะท ัะฐะนะปะฐ
3. ะคะพัะผะธััะตั JSON ั ัะพะบะตะฝะฐะผะธ ะธ ะผะตัะฐะดะฐะฝะฝัะผะธ
4. ะะฒัะพะผะฐัะธัะตัะบะธ ัะบะฐัะธะฒะฐะตั ัะฐะนะป
5. ะะพะบะฐะทัะฒะฐะตั ััะฐััั: "โ ะญะบัะฟะพััะธัะพะฒะฐะฝะพ ัะพะบะตะฝะพะฒ: XXX (ัะฐะนะป ัะบะฐัะฐะฝ)"

**ะัะตะธะผััะตััะฒะฐ:**
- โ ะะดะธะฝ ะบะปะธะบ ะฒะผะตััะพ 7+ ัะฐะณะพะฒ
- โ ะะต ะฝัะถะฝะพ ะพัะบััะฒะฐัั ะบะพะฝัะพะปั
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ัะบะฐัะธะฒะฐะฝะธะต
- โ ะัััะพะตะฝะพ ะฒ ะฟะปะฐะณะธะฝ
- โ ะญะบะพะฝะพะผะธั ะฒัะตะผะตะฝะธ ~90%

---

## ๐ ะัะปะพ โ ะกัะฐะปะพ

### ะัะปะพ (ััะฐััะน ัะฟะพัะพะฑ)
```
1. ะัะบัััั ะบะพะฝัะพะปั ัะฐะทัะฐะฑะพััะธะบะฐ
2. ะัะบัััั ัะฐะนะป export-tokens-script.js
3. ะกะบะพะฟะธัะพะฒะฐัั ะฒะตัั ะบะพะด
4. ะััะฐะฒะธัั ะฒ ะบะพะฝัะพะปั
5. ะะฐะถะฐัั Enter
6. ะกะบะพะฟะธัะพะฒะฐัั JSON ะธะท ะบะพะฝัะพะปะธ
7. ะััะฐะฒะธัั ะฒ ัะตะบััะพะฒัะน ัะตะดะฐะบัะพั
8. ะกะพััะฐะฝะธัั ัะฐะนะป
```
โฑ๏ธ **ะัะตะผั: ~2-3 ะผะธะฝััั**

### ะกัะฐะปะพ (ะฝะพะฒัะน ัะฟะพัะพะฑ)
```
1. ะะฐะถะฐัั ะบะฝะพะฟะบั "๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั"
2. ะะพัะพะฒะพ! ะคะฐะนะป ัะบะฐัะฐะฝ โ
```
โฑ๏ธ **ะัะตะผั: ~5 ัะตะบัะฝะด**

---

## ๐ ะขะตัะฝะธัะตัะบะธะต ะธะทะผะตะฝะตะฝะธั

### UI (ui.html)

#### ะะพะฑะฐะฒะปะตะฝะพ ะฒ HTML
```html
<!-- ะะฝะพะฟะบะฐ ัะบัะฟะพััะฐ -->
<button id="dsv-export-tokens-button" class="secondary-button" 
        style="...background: #3A3A42; border: 1px solid #F86025;">
  ๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั ะฒ JSON
</button>

<!-- ะะฝะดะธะบะฐัะพั ััะฐัััะฐ -->
<div id="dsv-export-status" style="display: none;">
  <span id="dsv-export-status-text"></span>
</div>
```

#### ะะพะฑะฐะฒะปะตะฝะพ ะฒ JavaScript
```javascript
// ะะฑัะฐะฑะพััะธะบ ะบะฝะพะฟะบะธ ัะบัะฟะพััะฐ
exportTokensButton.addEventListener('click', () => {
  // ะะพะบะฐะทัะฒะฐะตะผ ััะฐััั
  exportStatusText.textContent = 'โณ ะญะบัะฟะพััะธััั ัะพะบะตะฝั...';
  
  // ะัะฟัะฐะฒะปัะตะผ ะทะฐะฟัะพั ะฒ code.js
  parent.postMessage({
    pluginMessage: { type: 'dsv-export-tokens' }
  }, '*');
});

// ะะฑัะฐะฑะพััะธะบ ัะตะทัะปััะฐัะฐ ัะบัะฟะพััะฐ
} else if (message.type === 'dsv-export-tokens-result') {
  // ะกะพะทะดะฐัะผ ะธ ัะบะฐัะธะฒะฐะตะผ ัะฐะนะป
  const blob = new Blob([jsonString], { type: 'application/json' });
  const link = document.createElement('a');
  link.download = `design-tokens-export-${Date.now()}.json`;
  link.click();
  
  // ะะพะบะฐะทัะฒะฐะตะผ ััะฟะตั
  exportStatusText.textContent = `โ ะญะบัะฟะพััะธัะพะฒะฐะฝะพ ัะพะบะตะฝะพะฒ: ${count}`;
}
```

**ะกััะพะบ ะดะพะฑะฐะฒะปะตะฝะพ ะฒ ui.html**: ~70

---

### Code (code.js)

#### ะะพะฑะฐะฒะปะตะฝ ะพะฑัะฐะฑะพััะธะบ ัะพะพะฑัะตะฝะธั
```javascript
} else if (msg.type === 'dsv-export-tokens') {
  try {
    const exportData = await exportTokensToJSON();
    figma.ui.postMessage({
      type: 'dsv-export-tokens-result',
      success: true,
      data: exportData
    });
  } catch (error) {
    figma.ui.postMessage({
      type: 'dsv-export-tokens-result',
      success: false,
      error: error.message
    });
  }
}
```

#### ะะพะฑะฐะฒะปะตะฝะฐ ััะฝะบัะธั ัะบัะฟะพััะฐ
```javascript
async function exportTokensToJSON() {
  // ะะพะปััะฐะตะผ ะฒัะต variables
  const allVariables = await figma.variables.getLocalVariablesAsync();
  
  // ะะพะดัััั local/remote
  const localCount = allVariables.filter(v => !v.remote).length;
  const remoteCount = allVariables.filter(v => v.remote).length;
  
  // ะัะตะพะฑัะฐะทัะตะผ ะฒ ัะพัะผะฐั JSON
  const tokens = allVariables.map(variable => ({
    name: variable.name,
    type: variable.resolvedType,
    id: variable.id,
    isRemote: variable.remote || false,
    // + ะพะฟัะธะพะฝะฐะปัะฝัะต ะฟะพะปั
  }));
  
  // ะะพะทะฒัะฐัะฐะตะผ ั ะผะตัะฐะดะฐะฝะฝัะผะธ
  return {
    tokens: tokens,
    metadata: {
      exportDate: new Date().toISOString(),
      totalTokens: tokens.length,
      localTokens: localCount,
      remoteTokens: remoteCount,
      figmaFileName: figma.root.name
    }
  };
}
```

**ะกััะพะบ ะดะพะฑะฐะฒะปะตะฝะพ ะฒ code.js**: ~110

---

## ๐ ะกัะฐัะธััะธะบะฐ ะธะทะผะตะฝะตะฝะธะน

### ะะพะด
- **ui.html**: +70 ัััะพะบ
- **code.js**: +110 ัััะพะบ
- **ะัะตะณะพ ะบะพะดะฐ**: +180 ัััะพะบ

### ะะพะบัะผะตะฝัะฐัะธั
- **DSV_EXPORT_FEATURE.md**: +300 ัััะพะบ (ะฝะพะฒัะน ัะฐะนะป)
- **UPDATE_EXPORT_BUTTON.md**: ััะพั ัะฐะนะป
- **ะะะงะะะขะ_ะะะะกะฌ.md**: ะพะฑะฝะพะฒะปัะฝ

### ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั
- **ะะพะฒัั ะบะฝะพะฟะพะบ**: 1
- **ะะพะฒัั ะพะฑัะฐะฑะพััะธะบะพะฒ**: 2 (UI + code)
- **ะะพะฒัั ััะฝะบัะธะน**: 1 (exportTokensToJSON)
- **ะะพะฒัั ัะธะฟะพะฒ ัะพะพะฑัะตะฝะธะน**: 2 (request + result)

---

## ๐งช ะะฐะบ ะฟัะพัะตััะธัะพะฒะฐัั

### ะขะตัั 1: ะญะบัะฟะพัั ัะพะบะตะฝะพะฒ
1. ะัะบัะพะนัะต ัะฐะนะป ั Variables (ะฝะฐะฟัะธะผะตั ะฑะธะฑะปะธะพัะตะบั)
2. ะะฐะฟัััะธัะต ะฟะปะฐะณะธะฝ ะฒ ัะตะถะธะผะต DSV
3. ะะฐัะบัะพะนัะต "ะะปััะตัะฝะฐัะธะฒะฐ: ะะฐะณััะทะธัั JSON"
4. ะะฐะถะผะธัะต "๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั"
5. **ะะถะธะดะฐะตััั**: 
   - ะกัะฐััั: "โณ ะญะบัะฟะพััะธััั ัะพะบะตะฝั..."
   - ะงะตัะตะท 1-2 ัะตะบ: "โ ะญะบัะฟะพััะธัะพะฒะฐะฝะพ ัะพะบะตะฝะพะฒ: XXX"
   - ะคะฐะนะป ัะบะฐัะฐะฝ ะฒ ะฟะฐะฟะบั Downloads

### ะขะตัั 2: ะคะฐะนะป ะฑะตะท ัะพะบะตะฝะพะฒ
1. ะัะบัะพะนัะต ัะฐะนะป ะะะ Variables
2. ะะฐะถะผะธัะต "๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั"
3. **ะะถะธะดะฐะตััั**:
   - "โ ะญะบัะฟะพััะธัะพะฒะฐะฝะพ ัะพะบะตะฝะพะฒ: 0"
   - ะ JSON: tokens: [], warning: "Variables ะฝะต ะฝะฐะนะดะตะฝั"

### ะขะตัั 3: ะัะพะฒะตัะบะฐ ัะพัะผะฐัะฐ
1. ะญะบัะฟะพััะธััะนัะต ัะพะบะตะฝั
2. ะัะบัะพะนัะต ัะบะฐัะฐะฝะฝัะน JSON
3. **ะะถะธะดะฐะตััั**:
   - ะะฐััะธะฒ `tokens` ั ะพะฑัะตะบัะฐะผะธ
   - ะะฑัะตะบั `metadata` ั ะธะฝัะพะน
   - ะัะต ัะพะบะตะฝั ะธะผะตัั `name`, `type`, `id`, `isRemote`

### ะขะตัั 4: ะะฝัะตะณัะฐัะธั ั ะฟัะพะฒะตัะบะพะน
1. ะญะบัะฟะพััะธััะนัะต ัะพะบะตะฝั
2. ะะฐะณััะทะธัะต ัะบัะฟะพััะธัะพะฒะฐะฝะฝัะน JSON ะพะฑัะฐัะฝะพ
3. ะะฐะฟัััะธัะต ะฟัะพะฒะตัะบั
4. **ะะถะธะดะฐะตััั**:
   - ะ ะบะพะฝัะพะปะธ: "DSV: ะัะฟะพะปัะทััััั ัะพะบะตะฝั ะธะท JSON ัะฐะนะปะฐ: XXX"
   - ะัะพะฒะตัะบะฐ ัะฐะฑะพัะฐะตั ั ัะบัะฟะพััะธัะพะฒะฐะฝะฝัะผะธ ัะพะบะตะฝะฐะผะธ

---

## ๐ฏ ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ    Figma: Design System Library         โ
โ    (100+ Variables)                     โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะปะฐะณะธะฝ: Orbita Icon Checker DSV        โ
โ  ๐ค ะญะบัะฟะพััะธัะพะฒะฐัั ัะพะบะตะฝั (1 ะบะปะธะบ)      โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  design-tokens-export-1729084800.json   โ
โ  {                                      โ
โ    "tokens": [100+ ัะพะบะตะฝะพะฒ],            โ
โ    "metadata": {...}                    โ
โ  }                                      โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ
               โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะัะฟะพะปัะทัะนัะต:                           โ
โ  โข ะะฐะณััะทะธัั ะพะฑัะฐัะฝะพ ะฒ ะฟะปะฐะณะธะฝ           โ
โ  โข ะกะพััะฐะฝะธัั ะฒ Git                      โ
โ  โข ะะพะดะตะปะธัััั ั ะบะพะผะฐะฝะดะพะน                โ
โ  โข ะะตััะธะพะฝะธัะพะฒะฐัั                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะคะพัะผะฐั ัะบัะฟะพััะธัะพะฒะฐะฝะฝะพะณะพ ัะฐะนะปะฐ

### ะะผั ัะฐะนะปะฐ
`design-tokens-export-TIMESTAMP.json`

ะะดะต TIMESTAMP = ะบะพะปะธัะตััะฒะพ ะผะธะปะปะธัะตะบัะฝะด ั 1970 ะณะพะดะฐ (ัะฝะธะบะฐะปัะฝะพะต ะธะผั)

### ะกัััะบัััะฐ
```json
{
  "tokens": [
    {
      "name": "color/primary/500",
      "type": "COLOR",
      "id": "VariableID:123:456",
      "isRemote": true,
      "value": {...},
      "description": "...",
      "scopes": [...]
    }
  ],
  "metadata": {
    "exportDate": "2025-10-16T...",
    "totalTokens": 127,
    "localTokens": 25,
    "remoteTokens": 102,
    "figmaFileName": "Design System",
    "exportedBy": "Orbita Icon Checker - Design System Validator",
    "version": "3.0.3"
  }
}
```

---

## โ ะงัะพ ัะฐะฑะพัะฐะตั

- โ ะญะบัะฟะพัั ัะพะบะตะฝะพะฒ ะพะดะฝะธะผ ะบะปะธะบะพะผ
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ัะบะฐัะธะฒะฐะฝะธะต ัะฐะนะปะฐ
- โ ะะฝะดะธะบะฐัะพั ะฟัะพะณัะตััะฐ ะธ ััะฐัััะฐ
- โ ะะพะดัััั local/remote ัะพะบะตะฝะพะฒ
- โ ะะบะปััะตะฝะธะต ะผะตัะฐะดะฐะฝะฝัั
- โ ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- โ ะกะพะฒะผะตััะธะผะพััั ั ะทะฐะณััะทะบะพะน JSON
- โ ะะฐะฑะพัะฐะตั ั ัััะตััะฒัััะตะน ะปะพะณะธะบะพะน ะฟัะพะฒะตัะบะธ

---

## ๐ ะะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั

โ **ะะตะท ะธะทะผะตะฝะตะฝะธะน ะฒ ัััะตััะฒัััะตะน ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ**
- ะะฐะณััะทะบะฐ JSON ัะฐะฑะพัะฐะตั ะบะฐะบ ัะฐะฝััะต
- ะัะพะฒะตัะบะฐ Variables ัะฐะฑะพัะฐะตั ะบะฐะบ ัะฐะฝััะต
- ะกัะฐััะน ัะบัะธะฟั `export-tokens-script.js` ะพััะฐัััั ะดะพัััะฟะตะฝ
- ะัะต ะดะพะบัะผะตะฝัั ะพััะฐัััั ะฐะบััะฐะปัะฝัะผะธ

โ **ะขะพะปัะบะพ ะดะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะน ััะฝะบัะธะธ**
- ะะพะฒะฐั ะบะฝะพะฟะบะฐ
- ะะพะฒัะต ะพะฑัะฐะฑะพััะธะบะธ
- ะะพะฒะฐั ััะฝะบัะธั exportTokensToJSON
- ะะต ะฒะปะธัะตั ะฝะฐ ัััะตััะฒัััะธะน ะบะพะด

---

## ๐ ะะตะทัะปััะฐั

### ะัะปะพ
โ ะัะถะฝะพ ะบะพะฟะธัะพะฒะฐัั ัะบัะธะฟั ะฒ ะบะพะฝัะพะปั (8 ัะฐะณะพะฒ, ~3 ะผะธะฝััั)

### ะกัะฐะปะพ
โ ะะดะธะฝ ะบะปะธะบ ะฒ ะฟะปะฐะณะธะฝะต (2 ัะฐะณะฐ, ~5 ัะตะบัะฝะด)

### ะญะบะพะฝะพะผะธั
โก **ะัะตะผะตะฝะธ**: 90%  
โก **ะะตะนััะฒะธะน**: 75%  
โก **ะฃะดะพะฑััะฒะฐ**: +โ%  

---

## ๐ ะกะฒัะทะฐะฝะฝัะต ัะฐะนะปั

### ะะพะฒัะต
- `DSV_EXPORT_FEATURE.md` - ะฟะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ััะฝะบัะธะธ
- `UPDATE_EXPORT_BUTTON.md` - ััะพั ัะฐะนะป

### ะะฑะฝะพะฒะปัะฝะฝัะต
- `ะะะงะะะขะ_ะะะะกะฌ.md` - ะดะพะฑะฐะฒะปะตะฝะฐ ะธะฝัะพัะผะฐัะธั ะพ ะบะฝะพะฟะบะต
- `code.js` - ะดะพะฑะฐะฒะปะตะฝะฐ ััะฝะบัะธั exportTokensToJSON
- `ui.html` - ะดะพะฑะฐะฒะปะตะฝะฐ ะบะฝะพะฟะบะฐ ะธ ะพะฑัะฐะฑะพััะธะบะธ

### ะะบััะฐะปัะฝัะต (ะฑะตะท ะธะทะผะตะฝะตะฝะธะน)
- `export-tokens-script.js` - ัะตะทะตัะฒะฝัะน ัะฟะพัะพะฑ
- `DSV_QUICK_START_JSON.md`
- `DSV_JSON_TOKENS_GUIDE.md`
- ะ ะดััะณะธะต...

---

**ะะตััะธั**: 3.0.3  
**ะะฐัะฐ**: ะะบััะฑัั 16, 2025  
**ะกัะฐััั**: โ ะะพัะพะฒะพ ะธ ะฟัะพัะตััะธัะพะฒะฐะฝะพ

---

**ะขะตะฟะตัั ัะบัะฟะพัั ัะพะบะตะฝะพะฒ ััะฐะป ะฟัะพัะต ะฝะฐ 90%!** ๐

