# Quick Fix v3.0.5 - Performance

**Проблема:** Плагин зависал при привязке токенов (загружал все страницы документа)

**Решение:** Ограничен поиск токенов **только текущей страницей**

**Результат:** ✅ Плагин работает быстро, не зависает

---

## Что изменилось:

### Было (v3.0.4):
```javascript
// Загружало ВСЕ страницы документа
await figma.loadAllPagesAsync();
for (const page of figma.root.children) {
  const allNodes = page.findAll(); // Зависание!
  // ...
}
```

### Стало (v3.0.5):
```javascript
// Только текущая страница
const currentPageNodes = figma.currentPage.findAll();
// Быстро! ⚡
```

---

## Как это работает:

1. Токен ищется в локальных переменных
2. Если не найден → сканируется **только текущая страница**
3. Собираются ID всех используемых токенов
4. Токен ищется по имени среди используемых

## Ограничение:

⚠️ Если токен используется на **другой странице**, но не на текущей - он не будет найден.

**Workaround:** Привяжите токен вручную к любому элементу на текущей странице.

---

**Дата:** 17.10.2025  
**Версия:** 3.0.5  
**Изменён:** code.js (строки 4602-4625)
